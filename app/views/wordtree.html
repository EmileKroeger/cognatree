<p>Wordtree; meaning = {{meaning}}.</p>

<table>
  <tr ng-repeat="row in langTable">
    <td ng-repeat= "cell in row"
    colspan={{cell.width}}
    rowspan={{cell.depth}}
    class="treecell"
    ng-class="{
      haschildren: cell.haschildren}"
    ng-style="{'border-color': cell.branch.color}"
    >
    <div
    ng-class="{
      haschildren: !cell.haschildren,
      hassiblings: cell.hassiblings}"
    ng-style="{'border-color': cell.branch.color}"
    >
      {{cell.label}}<br>

  <div ng-repeat="entry in cell.branch.important" class="wordentry"
  ng-style="{'background-color': entry.color}">
    {{entry.lang}}
    <br>
    <b>{{entry.writing}}</b>
    <br>
    <i>{{entry.pronunciation}}</i>
    <br>
  </div>

    </div>

    </td>
  </tr>
</table>


<div ng-repeat="(family, branch) in byFamily" class="langbranch">
  <div>
    {{family}} {{branch.parts}}
  </div>
  <div ng-repeat="entry in branch.important" class="wordentry"
  ng-style="{'background-color': entry.color}">
    {{entry.lang}}
    <br>
    <b>{{entry.writing}}</b>
    <br>
    <i>{{entry.pronunciation}}</i>
    <br>
  </div>
  <div ng-if="branch.minor.length" ng-click="branch.expanded = !branch.expanded">
    <div ng-if="!branch.expanded">
      ...{{branch.minor.length}} others.
    </div>
    <div ng-if="branch.expanded">
      <!-- TODO: cleaner -->
  <div ng-repeat="entry in branch.minor" class="wordentry"
  ng-style="{'background-color': entry.color}">
    {{entry.lang}}
    <br>
    <b>{{entry.writing}}</b>
    <br>
    <i>{{entry.pronunciation}}</i>
    <br>
  </div>
    </div>
  </div>
</div>

<div ng-repeat="(lang, entry) in familydata"
  >
  {{lang}}: <b>{{entry[0]}}</b> ({{entry[1]}})
</div>
